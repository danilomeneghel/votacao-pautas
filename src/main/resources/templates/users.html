{#include base.html}
{#title}Usuários{/}
{#contents}
<h2>Usuários</h2>

<div class="row">
  <a class="btn btn-primary btn-sm" href="/users/new" role="button" up-modal=".modalenabled">Adicionar</a>
  <div class="search-right">
    <form action="/users" method="GET" name="search" up-target=".container">
       <input type="text" name="filter" class="form-control" id="filter" placeholder="Localizar por Nome" {#if filtered}value="{filter}"{/if}>
       <button class="btn btn-primary" type="submit">Ok</button>
    </form>
  </div>
</div>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th scope="col" class="fit">Id</th>
      <th scope="col" >Nome</th>
      <th scope="col" class="fit">E-mail</th>
      <th scope="col" class="fit">CPF</th>
      <th scope="col" class="fit">Funçăo</th>
      <th scope="col" class="fit">Status</th>
      <th scope="col" class="fit">Data Criação</th>
      <th scope="col" class="fit text-center">Açőes</th>
    </tr>
  </thead>

  {#if users.size == 0}
  <tr>
    <td colspan="8">Nenhum registro cadastrado.</td>
  </tr>
  {#else}

  {#for user in users}
  <tr>
    <th scope="row">#{user.id}</th>
    <td>
      {user.name}
    </td>
    <td>
      {user.email}
    </td>
    <td>
      {user.cpf}
    </td>
    <td>
      {user.role.descricao}
    </td>
    <td>
      {user.status.descricao}
    </td>
    <td>
      {user.dtCreated}
    </td>
    <td class="fit">
      <form action="/users/{user.id}/delete" method="POST" name="delete-{user.id}" up-target=".container">
        <a class="btn btn-primary btn-sm" href="/users/{user.id}/edit" role="button" up-modal=".modalenabled">Editar</a>
        <input class="btn btn-danger btn-sm" value="Excluir" type="submit">
      </form>
    </td>
  </tr>
  {/for}
  {/if}
</table>
{/contents}
{/include}